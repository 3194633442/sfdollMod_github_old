namespace = sfdoll_extradimensional_event

country_event = {
	id = sfdoll_extradimensional_event.1
	title = sfdoll_extradimensional_event.1
	desc = sfdoll_extradimensional_event.1_desc
	picture = GFX_evt_mysterious_signal
	is_triggered_only = yes
	trigger = {
		is_ai = no
	}
	after = {
		hidden_effect = {
			country_event = {
				id = sfdoll_extradimensional_event.2
			}
		}
	}
}

country_event = {
	id = sfdoll_extradimensional_event.2
	title = sfdoll_extradimensional_event.2
	desc = sfdoll_extradimensional_event.2_desc
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = exd2
		room = "extradimensional_room"
	}
	trigger = {
		is_ai = no
	}
	option = {
		name = sfdoll_extradimensional_event.2_option
	}
	after = {
		capital_scope = {
			enable_special_project = {
				name = sfdoll_exd_leader_project
			}
		}
	}
}

country_event = {
	id = sfdoll_extradimensional_event.3
	title = sfdoll_extradimensional_event.3
	desc = sfdoll_extradimensional_event.3_desc
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = exd2
		room = "extradimensional_room"
	}
	option = {
		name = sfdoll_extradimensional_event.3_option
	}
	after = {
		hidden_effect = {
			country_event = {
				id = sfdoll_extradimensional_event.4
			}
		}
	}
}

country_event = {
	id = sfdoll_extradimensional_event.4
	title = sfdoll_extradimensional_event.4
	desc = sfdoll_extradimensional_event.4_desc
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = exd2
		room = "extradimensional_room"
	}
	option = {
		name = sfdoll_extradimensional_event.4_option_a
	}
	option = {
		name = sfdoll_extradimensional_event.4_option_b
	}
	option = {
		name = sfdoll_extradimensional_event.4_option_c
	}
	option = {
		name = sfdoll_extradimensional_event.4_option_d
	}
}

#和高维人对话
country_event = {
	id = sfdoll_extradimensional_event.5
	title = sfdoll_extradimensional_event.5
	desc = sfdoll_extradimensional_event.5_desc
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = exd2
		room = "extradimensional_room"
	}
	option = {
		name = sfdoll_exd_leader_to_scientist
		response_text = response_sfdoll_exd_leader_to_scientist
		allow = {
			custom_tooltip = {
				fail_text = "sfdoll_the_leader_is_doing_this_job"
				NOT = {
					exists = event_target:sfdoll_exd_leader
					event_target:sfdoll_exd_leader = {
						leader_class = scientist
						owner = {
							is_same_value = root
						}
					}

				}
			}
		}
		hidden_effect = {
			event_target:sfdoll_exd_leader = {
				kill_leader = {
					show_notification = no
					fire = yes
				}
			}
			create_leader = {
				class = scientist
				species = owner_species
				name = "NAME_sfdoll_exd_leader"
				skill = 10
				set_age = 1
				immortal = yes
				event_leader = yes	# prevents this leader from leading factions and winning elections
				traits = {
					trait = leader_trait_sfdoll_exd_leader
					trait = leader_trait_sapient_AI_assistant
					trait = leader_trait_scientist_psionic
					trait = leader_trait_scientist_chosen
				}
				effect = {
					change_leader_portrait = exd2
					set_leader_flag = sfdoll_exd_leader
					save_global_event_target_as = sfdoll_exd_leader
				}
			}
		}
	}
	# option = {
	# 	name = sfdoll_exd_leader_get_science_ship
	# }
	# option = {
	# 	name = sfdoll_extradimensional_event.4_option_c
	# }
	option = {
		name = break
		break = yes
	}
}